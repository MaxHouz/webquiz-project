function readTextFile(e,t){var n=new XMLHttpRequest;n.overrideMimeType("application/json"),n.open("GET",e,!1),n.onreadystatechange=function(){4===n.readyState&&"200"==n.status&&t(n.responseText)},n.send(null)}function Question(e,t,n){this.text=e,this.choices=t,this.answer=n}function Quiz(e,t,n){this.type=n,this._score=0,this._questionIndex=0,this.questions=e,this.container=document.querySelector(t)}function answerChange(){var e=document.querySelector(".quiz_btn.active");e&&e.classList.remove("active"),this.classList.toggle("active"),document.getElementById("confirm").disabled=!1}function initData(){if(quiz.finished())saveResults(quiz._score,time.timeStop()),showResults();else{quiz.renderCurrentQuestion();document.querySelector(".total-questions").innerHTML=quiz.questions.length;document.querySelector(".question_text").innerHTML=quiz.getCurrentQuestion().text;quiz.getCurrentQuestion().choices.map(function(e){document.getElementById("choice"+e.id).innerHTML=e.variant}),choiceConfirm(),showProgress()}}function choiceConfirm(){var e=document.getElementById("confirm");e.onclick=function(){var t=document.querySelector(".quiz_btn.active");quiz.check(t.innerHTML),initData(),e.disabled=!0}}function showProgress(){var e=quiz._questionIndex+1;document.querySelector(".current-question").innerHTML=e}function formQuestionList(){var e;readTextFile(getQueryString,function(t){e=JSON.parse(t)});var t=e,n=[];return t.map(function(e){n.push(new Question(e.questionText,e.choises,e.answer))}),n}function saveResults(e,t){var n={id:1,score:e,time:t};localStorage.setItem("quiz",JSON.stringify(n))}function showResults(){window.location.pathname="/report.html"}function currentSlide(e){showSlides(e)}function showSlides(e){var t=document.querySelector(".slide.active");document.querySelector(".slide-btn.active").classList.remove("active"),t.classList.remove("active"),slideBtns[e].classList.add("active"),slides[e].classList.add("active"),slideIndex=e}function Timer(e){function t(){r+=n(),e.innerHTML=i(r)}function n(){var e=Date.now(),t=e-o;return o=e,t}function i(e){var t=new Date(e),n=t.getMinutes().toString(),i=t.getSeconds().toString();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),n+": "+i}var s,o,r=1;this._works=!1,this.start=function(){this._works||(s=setInterval(t,10),o=Date.now(),this._works=!0)},this.stop=function(){this._works&&(clearInterval(s),s=null,this._works=!1)},this.reset=function(){r=0},this.timeStop=function(){return this.stop(),e.innerHTML}}function quizChange(){var e=document.querySelector(".quiz_choice.active"),t=document.querySelector(".quiz_info-title"),n=document.querySelector(".quiz_info-questions"),i=document.querySelector(".quiz_info-time");switch(e&&e.classList.remove("active"),this.classList.add("active"),this.id){case"js_quiz":t.innerHTML="JavaScript Quiz",n.innerHTML="15 questions",i.innerHTML="Average time : 7 minutes";break;case"html_quiz":t.innerHTML="HTML Quiz",n.innerHTML="20 questions",i.innerHTML="Average time : 6 minutes";break;case"css_quiz":t.innerHTML="CSS Quiz",n.innerHTML="15 questions",i.innerHTML="Average time : 5 minutes"}startBtn.disabled=!1}function quizLoad(){switch(document.querySelector(".quiz_choice.active").id){case"js_quiz":window.location.href="/quiz.html?type=js";break;case"html_quiz":window.location.href="/quiz.html?type=html";break;case"css_quiz":window.location.href="/quiz.html?type=css"}}Question.prototype.correctAnswer=function(e){return e===this.answer},Quiz.prototype.getCurrentQuestion=function(){return this.questions[this._questionIndex]},Quiz.prototype.finished=function(){return this.questions.length===this._questionIndex},Quiz.prototype.check=function(e){this.getCurrentQuestion().correctAnswer(e)&&(this._score++,console.log("Correct"),console.log(this._score)),this._questionIndex++},Quiz.prototype.renderCurrentQuestion=function(){var e="",t=0;this.questions[this._questionIndex].choices.map(function(n){e+='<li class="quiz_btn" id="choice'+t+'"></li>',t++}),this.container.innerHTML=e;var n=document.getElementById("choice0"),i=document.getElementById("choice1"),s=document.getElementById("choice2"),o=document.getElementById("choice3");n&&n.addEventListener("click",answerChange),i&&i.addEventListener("click",answerChange),s&&s.addEventListener("click",answerChange),o&&o.addEventListener("click",answerChange)};var timer=document.getElementById("timer"),time=new Timer(timer),titleContainer=document.querySelector(".quiz_title-text"),picContainer=document.querySelector(".quiz_title-pic"),getQueryString,type;switch(window.location.search){case"?type=js":getQueryString="json/jsQuestions.json",type="js",titleContainer.innerHTML="JavaScript",picContainer.src="img/quiz-logos/js.png";break;case"?type=html":getQueryString="json/htmlQuestions.json",type="html",titleContainer.innerHTML="HTML",picContainer.src="img/quiz-logos/html.png";break;case"?type=css":getQueryString="json/cssQuestions.json",type="css",titleContainer.innerHTML="CSS",picContainer.src="img/quiz-logos/css.png"}var questions=formQuestionList(),quiz=new Quiz(questions,".btns_list","css");initData(),time.start();var slideIndex=0,slides=document.querySelectorAll(".slide"),slideBtns=document.querySelectorAll(".slide-btn");showSlides(slideIndex),setInterval(function(){slideIndex++,slideIndex>slides.length-1&&(slideIndex=0),showSlides(slideIndex)},4e3);var searchBtn=document.getElementById("search"),searchInput=document.getElementById("search_input");searchBtn.addEventListener("change",function(){searchInput.classList.toggle("active")});var jsQuiz=document.getElementById("js_quiz"),htmlQuiz=document.getElementById("html_quiz"),cssQuiz=document.getElementById("css_quiz"),startBtn=document.querySelector(".quiz_start");jsQuiz.addEventListener("click",quizChange),htmlQuiz.addEventListener("click",quizChange),cssQuiz.addEventListener("click",quizChange),startBtn.addEventListener("click",quizLoad);